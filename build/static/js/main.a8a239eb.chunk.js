(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,n,t){e.exports=t(43)},43:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(24),c=t.n(o),u=t(2),i=t(3),l=t(15),d=t.n(l),s=function(e){return a.a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"#000000",viewBox:"0 0 24 24",height:"24",width:"24"},e),a.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),a.a.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}))},f=function(e){return a.a.createElement("svg",Object.assign({fill:"#000000",viewBox:"0 0 24 24",height:"24",width:"24",xmlns:"http://www.w3.org/2000/svg"},e),a.a.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),a.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))},p=t(44),h=t(45);function g(){var e=Object(u.a)(["\n  font-size: 18px;\n  line-height: 24px;\n  margin-left: 10px;\n  max-width: calc(100% - 24px - 10px);\n"]);return g=function(){return e},e}function m(){var e=Object(u.a)(["\n  display: flex;\n  align-items: top;\n  padding: 10px !important;\n"]);return m=function(){return e},e}function v(){var e=Object(u.a)(["\n  margin: 4px auto;\n  :first-of-type {\n    margin-top: 0px;\n  }\n"]);return v=function(){return e},e}function b(e){var n=e.item,t=e.toggleStatus,r=n.checked?s:f;return a.a.createElement(x,{onClick:t},a.a.createElement(O,null,a.a.createElement(r,null),a.a.createElement(j,null,n.task)))}var x=Object(i.a)(p.a)(v()),O=Object(i.a)(h.a)(m()),j=i.a.span(g());function w(){var e=Object(u.a)(["\n  padding: 0;\n  margin-top: 10px;\n  width: 350px;\n"]);return w=function(){return e},e}function y(){var e=Object(u.a)(["\n    text-align: center;\n    font-size: 2em;\n    padding-top: 60px;\n    padding-bottom: 60px;\n  "]);return y=function(){return e},e}function E(e){var n=e.myplan,t=e.hasHadTodos,r=e.actions;return a.a.createElement(d.a,null,a.a.createElement(T,null,0===n.length&&a.a.createElement(k,{hasHadTodos:t}),n.map(function(e){return a.a.createElement(b,{key:e._id.toString(),item:e,toggleStatus:function(){return r.toggleTodoStatus(e._id)}})})))}var k=function(e){var n=i.a.div(y());return a.a.createElement(n,null,e.hasHadTodos?a.a.createElement("span",null,a.a.createElement("span",{role:"img","aria-label":"celebrate"}," ","\ud83c\udf89"," "),"All done! Enjoy your day!"):a.a.createElement("span",null,"Enter some text and click ",a.a.createElement("strong",null,"Add")," to save your first to-do task"))},T=i.a.ul(w()),L=t(16),C=t(48),I=t(28),S=t(46),A=t(47);t(50);function H(){var e=Object(u.a)(["\n  background-color: #5e9668 !important;\n"]);return H=function(){return e},e}function _(){var e=Object(u.a)(["\n  height: 70px !important;\n  background-color: white;\n  box-sizing: border-box;\n  padding-left: 20px;\n  padding-right: 20px;\n  line-height: 40px;\n"]);return _=function(){return e},e}function U(){var e=Object(u.a)(["\n  width: 100%;\n"]);return U=function(){return e},e}function z(e){e.addTodo,Object(I.a)(e,["addTodo"]);return a.a.createElement(M,null,"    ")}var M=Object(i.a)(S.a)(U());Object(i.a)(A.a)(_()),Object(i.a)(C.a)(H());function R(){var e=Object(u.a)(["\n  background-color: #f83d0e !important;\n"]);return R=function(){return e},e}function B(){var e=Object(u.a)(["\n  width: 100%;\n  margin-top: 10px;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n"]);return B=function(){return e},e}function P(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 450px;\n"]);return P=function(){return e},e}function D(e){var n=e.myplan,t=e.actions,o=Object(r.useState)(""),c=Object(L.a)(o,2),u=c[0],i=c[1],l=(n&&n.filter(function(e){return e.checked}).length,function(){u&&(t.addTodo(u),i(""))});n.every(function(e){return!0===e.checked}),n.every(function(e){return!0===e.checked});return a.a.createElement(V,null,a.a.createElement(z,{value:u,addTodo:l,onChange:function(e){return i(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&l()}}),a.a.createElement(W,null))}var V=i.a.div(P()),W=i.a.div(B()),$=(Object(i.a)(C.a)(R()),t(5)),J=t.n($),F=t(11),G=t(7),K=t(13),N=K.d.hasAppClient("b90x-brcud")?K.d.getAppClient("b90x-brcud"):K.d.initializeAppClient("b90x-brcud");function X(){var e=new K.a;return N.auth.loginWithCredential(e)}function Y(){return q.apply(this,arguments)}function q(){return(q=Object(F.a)(J.a.mark(function e(){return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.auth.loginWithRedirect(new K.b);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Q(){return N.auth.isLoggedIn?N.auth.user:null}function Z(){var e=Q();return N.auth.logoutUserWithId(e.id)}var ee=a.a.createContext();function ne(){var e=a.a.useContext(ee);if(!e)throw new Error("useStitchAuth must be used within a StitchAuthProvider");return e}function te(e){var n=a.a.useState({isLoggedIn:N.auth.isLoggedIn,currentUser:Q()}),t=Object(L.a)(n,2),o=t[0],c=t[1];Object(r.useEffect)(function(){var e,n={onUserLoggedIn:function(e,n){n&&c(function(e){return Object(G.a)({},e,{isLoggedIn:!0,currentUser:n})})},onUserLoggedOut:function(e,n){c(function(e){return Object(G.a)({},e,{isLoggedIn:!1,currentUser:null})})}};return e=n,N.auth.addAuthListener(e),function(){if(N.auth.hasRedirectResult())N.auth.handleRedirectResult()}(),c(function(e){return Object(G.a)({},e)}),function(){var e;e=n,N.auth.removeAuthListener(e)}},[]);var u=function(){var e=Object(F.a)(J.a.mark(function e(n){return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o.isLoggedIn){e.next=6;break}e.t0=n,e.next="anonymous"===e.t0?4:"google"===e.t0?5:6;break;case 4:return e.abrupt("return",X());case 5:return e.abrupt("return",Y());case 6:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}(),i=function(){var e=Object(F.a)(J.a.mark(function e(){return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.isLoggedIn){e.next=4;break}return e.next=3,Z();case 3:c(Object(G.a)({},o,{isLoggedIn:!1,currentUser:null}));case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),l=a.a.useMemo(function(){return{isLoggedIn:o.isLoggedIn,currentUser:o.currentUser,actions:{handleLogin:u,handleLogout:i}}},[o]);return a.a.createElement(ee.Provider,{value:l},e.children)}var re=t(27),ae=N.getServiceClient(K.c.factory,"mongodb-atlas").db("b90x").collection("myplan"),oe=function(e,n){var t=n.type,r=n.payload;switch(t){case"setTodos":return Object(G.a)({},e,{hasHadTodos:r.todos.length>0,todos:r.todos||[]});case"addTodo":var a=Object(G.a)({},r,{checked:"boolean"===typeof r.checked&&r.checked});return Object(G.a)({},e,{hasHadTodos:!0,todos:[].concat(Object(re.a)(e.todos),[a])});case"removeTodo":return Object(G.a)({},e,{todos:e.todos.filter(function(e){return e.id!==r.id})});case"clearCompletedTodos":return Object(G.a)({},e,{todos:e.todos.filter(function(e){return!0!==e.checked})});case"clearTodos":return Object(G.a)({},e,{todos:[]});case"setTodoStatus":return Object(G.a)({},e,{todos:e.todos.map(function(e){return e._id===r.id?Object(G.a)({},e,{status:r.status}):e})});case"completeAllTodos":return Object(G.a)({},e,{todos:e.todos.map(function(e){return Object(G.a)({},e,{checked:!0})})});case"toggleTodoStatus":return Object(G.a)({},e,{todos:e.todos.map(function(e){return e._id===r.id?Object(G.a)({},e,{checked:!e.checked}):e})});default:console.error("Received invalid todo action type: ".concat(t))}};var ce=t(49);function ue(){var e=Object(u.a)(["\n  margin: 0;\n  h1 {\n    padding: 20px;\n    margin: 0;\n  }\n"]);return ue=function(){return e},e}function ie(){var e=Object(u.a)(["\n  max-width: 600px;\n  align-items: center;\n  width: 100%;\n"]);return ie=function(){return e},e}function le(){var e=Object(u.a)(["\n  background: #eeeeee;\n  padding: 20px;\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return le=function(){return e},e}function de(){var e=function(e){var n=a.a.useReducer(oe,{todos:[]}),t=Object(L.a)(n,2),r=t[0],o=t[1],c=function(){var e=Object(F.a)(J.a.mark(function e(){var n;return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.find({},{limit:1e3}).asArray();case 2:n=e.sent,o({type:"setTodos",payload:{todos:n}});case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),u=function(){var n=Object(F.a)(J.a.mark(function n(t){var r,a;return J.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r={task:t,owner_id:e,one:t,two:t},n.next=3,ae.insertOne(r);case 3:a=n.sent,o({type:"addTodo",payload:Object(G.a)({},r,{_id:a.insertedId})});case 5:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}(),i=function(){var e=Object(F.a)(J.a.mark(function e(n){return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.deleteOne({_id:n});case 2:o({type:"removeTodo",payload:{id:n}});case 3:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}(),l=function(){var e=Object(F.a)(J.a.mark(function e(){return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.deleteMany({});case 2:o({type:"clearTodos"});case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(F.a)(J.a.mark(function e(){return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.deleteMany({checked:!0});case 2:o({type:"clearCompletedTodos"});case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(F.a)(J.a.mark(function e(n,t){return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.updateOne({_id:n},{$set:{checked:t}},{returnNewDocument:!0});case 2:o({type:"setTodoStatus",payload:{todoId:n,status:t}});case 3:case"end":return e.stop()}},e)}));return function(n,t){return e.apply(this,arguments)}}(),f=function(){var n=Object(F.a)(J.a.mark(function n(){return J.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ae.updateMany({owner_id:e},{$set:{checked:!0}});case 2:o({type:"completeAllTodos"});case 3:case"end":return n.stop()}},n)}));return function(){return n.apply(this,arguments)}}(),p=function(){var e=Object(F.a)(J.a.mark(function e(n){var t;return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.todos.find(function(e){return e._id===n}),e.next=3,ae.updateOne({_id:n},{$set:{checked:!t.currentStatus}});case 3:o({type:"toggleTodoStatus",payload:{id:n}});case 4:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}();return a.a.useEffect(function(){c()},[]),{myplan:r.todos,hasHadTodos:r.hasHadTodos,actions:{addTodo:u,removeTodo:i,setTodoCompletionStatus:s,clearTodos:l,clearCompletedTodos:d,completeAllTodos:f,toggleTodoStatus:p}}}(ne().currentUser.id);return a.a.createElement(d.a,null,a.a.createElement(se,null,a.a.createElement(fe,null,a.a.createElement(pe,null,a.a.createElement("h1",null,"Your 90 Day Reading Plan")),a.a.createElement(D,e),a.a.createElement(E,e))))}var se=i.a.div(le()),fe=Object(i.a)(p.a)(ie()),pe=Object(i.a)(ce.a)(ue());function he(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return he=function(){return e},e}function ge(){var e=Object(u.a)(["\n  margin-top: 10px;\n  :first-of-type {\n    margin-top: 0px;\n  }\n"]);return ge=function(){return e},e}function me(){var e=Object(u.a)(["\n  margin-left: auto;\n  margin-right: auto;\n  max-width: 450px;\n"]);return me=function(){return e},e}function ve(){var e=Object(u.a)(["\n  background: #eeeeee;\n  height: 100%;\n  padding: 20px;\n"]);return ve=function(){return e},e}function be(){var e=ne().actions;return a.a.createElement(d.a,null,a.a.createElement(xe,null,a.a.createElement(Oe,null,a.a.createElement(h.a,null,a.a.createElement(we,null,"              ",a.a.createElement(je,{provider:"google",onClick:function(){return e.handleLogin("google")}},"Log In with Google"))))))}var xe=i.a.div(ve()),Oe=Object(i.a)(p.a)(me()),je=Object(i.a)(C.a)(ge()),we=i.a.div(he());function ye(){var e=Object(u.a)(["\n  margin-right: auto;\n"]);return ye=function(){return e},e}function Ee(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: row-reverse;\n  align-items: center;\n  width: 100%;\n  height: 62px;\n  padding: 10px;\n  background: #5e9668;\n"]);return Ee=function(){return e},e}function ke(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100vw;\n  height: 100vh;\n  * {\n    font-family: sans-serif;\n  }\n"]);return ke=function(){return e},e}function Te(){var e=ne(),n=e.isLoggedIn,t=e.actions.handleLogout;return a.a.createElement(Le,null,a.a.createElement(Ce,null,n&&a.a.createElement(C.a,{onClick:t},"Logout"),a.a.createElement(Ie,null,"FPC B90X Challenge")),n?a.a.createElement(de,null):a.a.createElement(be,null))}var Le=i.a.div(ke()),Ce=i.a.div(Ee()),Ie=i.a.h1(ye()),Se=(t(42),document.getElementById("root"));c.a.render(a.a.createElement(function(){return a.a.createElement(te,null,a.a.createElement(Te,null))},null),Se)}},[[29,1,2]]]);
//# sourceMappingURL=main.a8a239eb.chunk.js.map